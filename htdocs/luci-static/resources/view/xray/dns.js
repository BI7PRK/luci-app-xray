/**
 * @license
 * Copyright 2020 Xingwang Liao <kuoruan@gmail.com>
 *
 * Licensed to the public under the MIT License.
 */
"use strict";"require form";"require uci";"require xray";return L.view.extend({load:function(){try{return xray.getSections("dns_server")}catch(e){return[]}},render:function(e){void 0===e&&(e=[]);var o,a=new form.Map("xray","%s - %s".format(_("XRay"),_("DNS")),_("Details: %s").format('<a href="https://xtls.github.io/config/outbounds/dns.html" target="_blank">DnsObject</a>')),r=a.section(form.NamedSection,"main_dns","dns");r.anonymous=!0,r.addremove=!1,(o=r.option(form.Flag,"enabled",_("Enabled"))).rmempty=!1,o=r.option(form.Value,"tag",_("Tag")),o=r.option(form.Flag,"disable_cache",_("Disable Cache")),o=r.option(form.Flag,"disable_fallback",_("Disable Fallback")),o=r.option(form.Flag,"disable_fallback_if_match",_("Disable Fallback If Match")),(o=r.option(form.Value,"client_ip",_("Client IP"),'<a href="http://ip.chinaz.com/" target="_blank">%s</a>'.format(_("Visit my public IP address")))).datatype="ipaddr",o=r.option(form.DynamicList,"hosts",_("Hosts"),_("A list of static addresses, format: <code>domain|address</code>. eg: %s").format("google.com|127.0.0.1 or google.com|127.0.0.1,10.0.0.1")),(o=r.option(form.ListValue,"query_strategy",_("Query Strategy"))).value("UseIP"),o.value("UseIPv4"),o.value("UseIPv6"),o.default="UseIP",o=r.option(form.MultiValue,"servers",_("DNS Servers"),_("Select DNS servers to use"));for(var t=0,i=e;t<i.length;t++){var s=i[t];o.value(s.value,s.caption)}var n=a.section(form.GridSection,"dns_server",_("DNS server"),_("Add DNS servers here"));return n.anonymous=!0,n.addremove=!0,n.nodescription=!0,n.sortable=!0,(o=n.option(form.Value,"alias",_("Alias"))).rmempty=!1,o=n.option(form.Value,"address",_("Address")),(o=n.option(form.Value,"port",_("Port"))).datatype="port",o.placeholder="53",(o=n.option(form.DynamicList,"domains",_("Domains"))).modalonly=!0,(o=n.option(form.DynamicList,"expect_ips",_("Expect IPs"))).modalonly=!0,o=n.option(form.Flag,"skip_fallback",_("Skip Fallback")),(o=n.option(form.Value,"client_ip",_("Client IP"))).modalonly=!0,o.placeholder=_("Can be configured as a non-private IP address"),a.render()}});